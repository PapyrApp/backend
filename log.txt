2024-05-05 11:19:14 - DEBUG - Set up logger
2024-05-05 11:23:19 - DEBUG - Set up logger
2024-05-05 11:23:19 - INFO - Connecting to database host localhost...
2024-05-05 11:23:19 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 11:48:02 - DEBUG - Set up logger
2024-05-05 11:48:02 - INFO - Connecting to database host localhost...
2024-05-05 11:48:02 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 11:49:33 - DEBUG - Set up logger
2024-05-05 11:49:33 - INFO - Connecting to database host localhost...
2024-05-05 11:49:33 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 11:50:29 - DEBUG - Set up logger
2024-05-05 11:50:29 - INFO - Connecting to database host localhost...
2024-05-05 11:50:29 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 11:53:11 - DEBUG - Set up logger
2024-05-05 11:53:11 - INFO - Connecting to database host localhost...
2024-05-05 11:53:11 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"username_1\", \"key\": {\"username\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9VbGUAmhQ9a5M9Rrx7OKrA==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command succeeded", "durationMS": 53.576, "reply": "{\"numIndexesBefore\": 1, \"numIndexesAfter\": 2, \"createdCollectionAutomatically\": true, \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 2038664370, "operationId": 2038664370, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"email_1\", \"key\": {\"email\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9VbGUAmhQ9a5M9Rrx7OKrA==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 1129566413, "operationId": 1129566413, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command succeeded", "durationMS": 16.134, "reply": "{\"numIndexesBefore\": 2, \"numIndexesAfter\": 3, \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 1129566413, "operationId": 1129566413, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}}
2024-05-05 12:00:44 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008780701178707216>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9VbGUAmhQ9a5M9Rrx7OKrA==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 184803526, "operationId": 184803526, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:00:44 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command succeeded", "durationMS": 1.3439999999999999, "reply": "{\"cursor\": {\"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 184803526, "operationId": 184803526, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:02 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008765096750584789>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}}
2024-05-05 12:01:02 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008765096750584789>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:02 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9VbGUAmhQ9a5M9Rrx7OKrA==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:02 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command succeeded", "durationMS": 1.846, "reply": "{\"cursor\": {\"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 1911759956, "operationId": 1911759956, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:03 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008765096750584789>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}}
2024-05-05 12:01:03 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x7a784a421300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 6637570722bca82e83d1cefb, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0008765096750584789>]>", "clientId": {"$oid": "6637570722bca82e83d1cefb"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:03 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command started", "command": "{\"insert\": \"users\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"9VbGUAmhQ9a5M9Rrx7OKrA==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\", \"documents\": [{\"username\": \"erik\", \"email\": \"erikwessman10@gmail.com\", \"role\": \"User\", \"password_hash\": \"$2b$12$FHJmgAkoWzN8ZC4ejiq6Hux7I2RYbpxBW41WLUWHmulopddnCmDpy\", \"created_at\": {\"$date\": \"2024-05-05T10:01:02.793Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:01:02.793Z\"}, \"_id\": {\"$oid\": \"663758df22bca82e83d1cefc\"}}]}", "commandName": "insert", "databaseName": "papyr", "requestId": 749241873, "operationId": 749241873, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:03 - DEBUG - {"clientId": {"$oid": "6637570722bca82e83d1cefb"}, "message": "Command succeeded", "durationMS": 0.687, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "papyr", "requestId": 749241873, "operationId": 749241873, "driverConnectionId": 1, "serverConnectionId": 16, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:01:03 - ERROR - Exception on /register [POST]
Traceback (most recent call last):
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/papyr/src/routes/authentication_routes.py", line 23, in register
    return jsonify(user), 201
           ^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/__init__.py", line 170, in jsonify
    return current_app.json.response(*args, **kwargs)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 214, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type User is not JSON serializable
2024-05-05 12:04:35 - DEBUG - Set up logger
2024-05-05 12:04:35 - INFO - Connecting to database host localhost...
2024-05-05 12:04:35 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"username_1\", \"key\": {\"username\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Pec9yXhuRUCmlehqknPVxQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 424238335, "operationId": 424238335, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command succeeded", "durationMS": 0.6040000000000001, "reply": "{\"numIndexesBefore\": 3, \"numIndexesAfter\": 3, \"note\": \"all indexes already exist\", \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 424238335, "operationId": 424238335, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"email_1\", \"key\": {\"email\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Pec9yXhuRUCmlehqknPVxQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 719885386, "operationId": 719885386, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command succeeded", "durationMS": 0.416, "reply": "{\"numIndexesBefore\": 3, \"numIndexesAfter\": 3, \"note\": \"all indexes already exist\", \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 719885386, "operationId": 719885386, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}}
2024-05-05 12:04:54 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006739134818781168>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Pec9yXhuRUCmlehqknPVxQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 1649760492, "operationId": 1649760492, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:04:54 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command succeeded", "durationMS": 0.644, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"663758df22bca82e83d1cefc\"}, \"username\": \"erik\", \"email\": \"erikwessman10@gmail.com\", \"role\": \"User\", \"password_hash\": \"$2b$12$FHJmgAkoWzN8ZC4ejiq6Hux7I2RYbpxBW41WLUWHmulopddnCmDpy\", \"created_at\": {\"$date\": \"2024-05-05T10:01:02.793Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:01:02.793Z\"}}], \"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 1649760492, "operationId": 1649760492, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:33 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007088779699066654>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}}
2024-05-05 12:05:33 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007088779699066654>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:33 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik2\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Pec9yXhuRUCmlehqknPVxQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:33 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command succeeded", "durationMS": 1.488, "reply": "{\"cursor\": {\"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 783368690, "operationId": 783368690, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:34 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007088779699066654>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}}
2024-05-05 12:05:34 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x76ba52d09300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 663759b3ff9b479a3198a4fc, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007088779699066654>]>", "clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:34 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command started", "command": "{\"insert\": \"users\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"Pec9yXhuRUCmlehqknPVxQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\", \"documents\": [{\"username\": \"erik2\", \"email\": \"erikwessman11@gmail.com\", \"first_name\": \"Erik\", \"last_name\": \"Wessman\", \"role\": \"User\", \"password_hash\": \"$2b$12$SCxRDbKvoL.KnsEbmtbBleheYfgV9XwOsNeDITaUDWpiq3JFeOAd6\", \"created_at\": {\"$date\": \"2024-05-05T10:05:33.696Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:05:33.696Z\"}, \"_id\": {\"$oid\": \"663759eeff9b479a3198a4fd\"}}]}", "commandName": "insert", "databaseName": "papyr", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:34 - DEBUG - {"clientId": {"$oid": "663759b3ff9b479a3198a4fc"}, "message": "Command succeeded", "durationMS": 0.705, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "papyr", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 21, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:05:34 - ERROR - Exception on /register [POST]
Traceback (most recent call last):
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/papyr/src/routes/authentication_routes.py", line 23, in register
    return jsonify(user.to_mongo().to_dict()), 201
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/__init__.py", line 170, in jsonify
    return current_app.json.response(*args, **kwargs)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 214, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type ObjectId is not JSON serializable
2024-05-05 12:13:30 - DEBUG - Set up logger
2024-05-05 12:13:30 - INFO - Connecting to database host localhost...
2024-05-05 12:13:30 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"username_1\", \"key\": {\"username\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"J9wjWxtHQ8ij+KTYhKVytQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 719885386, "operationId": 719885386, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command succeeded", "durationMS": 0.494, "reply": "{\"numIndexesBefore\": 3, \"numIndexesAfter\": 3, \"note\": \"all indexes already exist\", \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 719885386, "operationId": 719885386, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"email_1\", \"key\": {\"email\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"J9wjWxtHQ8ij+KTYhKVytQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 1649760492, "operationId": 1649760492, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command succeeded", "durationMS": 0.35100000000000003, "reply": "{\"numIndexesBefore\": 3, \"numIndexesAfter\": 3, \"note\": \"all indexes already exist\", \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 1649760492, "operationId": 1649760492, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik2\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"J9wjWxtHQ8ij+KTYhKVytQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 596516649, "operationId": 596516649, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command succeeded", "durationMS": 0.589, "reply": "{\"cursor\": {\"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 596516649, "operationId": 596516649, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}}
2024-05-05 12:13:54 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x72cb52e0d300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66375bca4387b483ce25969b, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006923695241566748>]>", "clientId": {"$oid": "66375bca4387b483ce25969b"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command started", "command": "{\"insert\": \"users\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"J9wjWxtHQ8ij+KTYhKVytQ==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\", \"documents\": [{\"username\": \"erik2\", \"email\": \"erikwessman11@gmail.com\", \"first_name\": \"Erik\", \"last_name\": \"Wessman\", \"role\": \"User\", \"password_hash\": \"$2b$12$8IO8RhHVmjXje3JXT4ivZuJGDya2g9uQpn.OT0ZG0kY2VdnZN2d7y\", \"created_at\": {\"$date\": \"2024-05-05T10:13:54.125Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:13:54.125Z\"}, \"_id\": {\"$oid\": \"66375be24387b483ce25969c\"}}]}", "commandName": "insert", "databaseName": "papyr", "requestId": 1189641421, "operationId": 1189641421, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - DEBUG - {"clientId": {"$oid": "66375bca4387b483ce25969b"}, "message": "Command succeeded", "durationMS": 0.825, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "papyr", "requestId": 1189641421, "operationId": 1189641421, "driverConnectionId": 1, "serverConnectionId": 24, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:13:54 - ERROR - Exception on /register [POST]
Traceback (most recent call last):
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 1473, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 882, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask_cors/extension.py", line 176, in wrapped_function
    return cors_after_request(app.make_response(f(*args, **kwargs)))
                                                ^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 880, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/app.py", line 865, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/papyr/src/routes/authentication_routes.py", line 23, in register
    return jsonify(user.to_mongo().to_dict()), 201
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/__init__.py", line 170, in jsonify
    return current_app.json.response(*args, **kwargs)  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 214, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/.venv/lib/python3.11/site-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/home/erik/miniconda3/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/home/erik/devel/papyr/papyr/src/utils/mongo_json_provider.py", line 12, in default
    return super().default(self, o)
           ^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: _default() takes 1 positional argument but 2 were given
2024-05-05 12:15:29 - DEBUG - Set up logger
2024-05-05 12:15:29 - INFO - Connecting to database host localhost...
2024-05-05 12:15:29 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "testOperation", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"username_1\", \"key\": {\"username\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 1957747793, "operationId": 1957747793, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.506, "reply": "{\"numIndexesBefore\": 3, \"numIndexesAfter\": 3, \"note\": \"all indexes already exist\", \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 1957747793, "operationId": 1957747793, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "createIndexes", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"createIndexes\": \"users\", \"indexes\": [{\"name\": \"email_1\", \"key\": {\"email\": 1}}], \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 424238335, "operationId": 424238335, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.37, "reply": "{\"numIndexesBefore\": 3, \"numIndexesAfter\": 3, \"note\": \"all indexes already exist\", \"ok\": 1.0}", "commandName": "createIndexes", "databaseName": "papyr", "requestId": 424238335, "operationId": 424238335, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:15:37 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik2\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 719885386, "operationId": 719885386, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:37 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.5519999999999999, "reply": "{\"cursor\": {\"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 719885386, "operationId": 719885386, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:38 - DEBUG - {"message": "Server selection started", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:15:38 - DEBUG - {"message": "Server selection succeeded", "selector": "<function writable_server_selector at 0x75b3d5ebd300>", "operation": "insert", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.00038245499308686703>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:38 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"insert\": \"users\", \"ordered\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\", \"documents\": [{\"username\": \"erik2\", \"email\": \"erikwessman11@gmail.com\", \"first_name\": \"Erik\", \"last_name\": \"Wessman\", \"role\": \"User\", \"password_hash\": \"$2b$12$6ICHUl8sCgqmfe5085WxyOPO5Kr/5odY2x5LviGpZowHMC4LX/zmO\", \"created_at\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}, \"_id\": {\"$oid\": \"66375c4a6927205ae931192e\"}}]}", "commandName": "insert", "databaseName": "papyr", "requestId": 1649760492, "operationId": 1649760492, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:15:38 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.6, "reply": "{\"n\": 1, \"ok\": 1.0}", "commandName": "insert", "databaseName": "papyr", "requestId": 1649760492, "operationId": 1649760492, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:20 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006187083846274764>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:16:20 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006187083846274764>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:20 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik2\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:20 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.653, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66375c4a6927205ae931192e\"}, \"username\": \"erik2\", \"email\": \"erikwessman11@gmail.com\", \"first_name\": \"Erik\", \"last_name\": \"Wessman\", \"role\": \"User\", \"password_hash\": \"$2b$12$6ICHUl8sCgqmfe5085WxyOPO5Kr/5odY2x5LviGpZowHMC4LX/zmO\", \"created_at\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}}], \"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 1102520059, "operationId": 1102520059, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:25 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006187083846274764>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:16:25 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0006187083846274764>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:25 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik2\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:25 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.6719999999999999, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66375c4a6927205ae931192e\"}, \"username\": \"erik2\", \"email\": \"erikwessman11@gmail.com\", \"first_name\": \"Erik\", \"last_name\": \"Wessman\", \"role\": \"User\", \"password_hash\": \"$2b$12$6ICHUl8sCgqmfe5085WxyOPO5Kr/5odY2x5LviGpZowHMC4LX/zmO\", \"created_at\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}}], \"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 2044897763, "operationId": 2044897763, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:47 - DEBUG - {"message": "Server selection started", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007153839653476701>]>", "clientId": {"$oid": "66375c416927205ae931192d"}}
2024-05-05 12:16:47 - DEBUG - {"message": "Server selection succeeded", "selector": "Primary()", "operation": "find", "topologyDescription": "<TopologyDescription id: 66375c416927205ae931192d, topology_type: Single, servers: [<ServerDescription ('localhost', 27017) server_type: Standalone, rtt: 0.0007153839653476701>]>", "clientId": {"$oid": "66375c416927205ae931192d"}, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:47 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command started", "command": "{\"find\": \"users\", \"filter\": {\"username\": \"erik2\"}, \"sort\": {\"created_at\": -1}, \"limit\": 1, \"singleBatch\": true, \"lsid\": {\"id\": {\"$binary\": {\"base64\": \"wWsleXeqTNqMlmC+Qzb6og==\", \"subType\": \"04\"}}}, \"$db\": \"papyr\"}", "commandName": "find", "databaseName": "papyr", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:16:47 - DEBUG - {"clientId": {"$oid": "66375c416927205ae931192d"}, "message": "Command succeeded", "durationMS": 0.725, "reply": "{\"cursor\": {\"firstBatch\": [{\"_id\": {\"$oid\": \"66375c4a6927205ae931192e\"}, \"username\": \"erik2\", \"email\": \"erikwessman11@gmail.com\", \"first_name\": \"Erik\", \"last_name\": \"Wessman\", \"role\": \"User\", \"password_hash\": \"$2b$12$6ICHUl8sCgqmfe5085WxyOPO5Kr/5odY2x5LviGpZowHMC4LX/zmO\", \"created_at\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}, \"last_login\": {\"$date\": \"2024-05-05T10:15:37.969Z\"}}], \"ns\": \"papyr.users\"}, \"ok\": 1.0}", "commandName": "find", "databaseName": "papyr", "requestId": 1540383426, "operationId": 1540383426, "driverConnectionId": 1, "serverConnectionId": 27, "serverHost": "localhost", "serverPort": 27017}
2024-05-05 12:46:27 - DEBUG - Set up logger
2024-05-05 12:46:27 - INFO - Connecting to database host localhost...
2024-05-05 12:46:27 - INFO - Starting app...
2024-05-05 12:46:27 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:46:27 - INFO -  * Restarting with stat
2024-05-05 12:46:27 - DEBUG - Set up logger
2024-05-05 12:46:27 - INFO - Connecting to database host localhost...
2024-05-05 12:46:27 - INFO - Starting app...
2024-05-05 12:46:27 - WARNING -  * Debugger is active!
2024-05-05 12:46:27 - INFO -  * Debugger PIN: 808-873-948
2024-05-05 12:46:27 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:46:34 - DEBUG - Set up logger
2024-05-05 12:46:34 - INFO - Connecting to database host localhost...
2024-05-05 12:46:34 - INFO - Starting app...
2024-05-05 12:46:34 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
2024-05-05 12:46:34 - INFO -  * Restarting with stat
2024-05-05 12:46:35 - DEBUG - Set up logger
2024-05-05 12:46:35 - INFO - Connecting to database host localhost...
2024-05-05 12:46:35 - INFO - Starting app...
2024-05-05 12:46:35 - WARNING -  * Debugger is active!
2024-05-05 12:46:35 - INFO -  * Debugger PIN: 808-873-948
2024-05-05 12:46:35 - WARNING - WebSocket transport not available. Install gevent-websocket for improved performance.
